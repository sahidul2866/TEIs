<div class="question-content">
  <div class="mb-6">
    <p class="text-lg text-gray-800 leading-relaxed">{{ question.content }}</p>
  </div>

  <!-- Testing UI - clearly marked and removable -->
  <div class="bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4 mb-6" style="background-color: #fffbeb; border: 2px solid #f59e0b;">
    <div class="flex items-center justify-between">
      <span class="text-sm font-semibold text-yellow-800">ðŸ§ª TESTING UI (Remove for Production)</span>
      <span class="text-xs text-yellow-600">isCorrect Status</span>
    </div>
    <div class="mt-2 text-lg font-mono">
      <span class="text-yellow-700">Current Value: </span>
      <span [ngClass]="{
        'text-green-600 font-bold': currentIsCorrect === true,
        'text-red-600 font-bold': currentIsCorrect === false,
        'text-gray-500 italic': currentIsCorrect === undefined
      }">
        {{ currentIsCorrect === true ? 'TRUE' : currentIsCorrect === false ? 'FALSE' : 'UNDEFINED' }}
      </span>
    </div>
  </div>

  <!-- Switch on question type -->
  <div [ngSwitch]="question.type">
    <app-drag-drop 
      *ngSwitchCase="'dragDrop'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-drag-drop>

    <app-fill-blank 
      *ngSwitchCase="'fillBlank'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-fill-blank>

    <app-hot-spot 
      *ngSwitchCase="'hotspot'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-hot-spot>

    <app-equation-editor 
      *ngSwitchCase="'equationEditor'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-equation-editor>

    <app-hot-text 
      *ngSwitchCase="'hotText'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-hot-text>

    <app-multiple-choice 
      *ngSwitchCase="'multipleChoice'"
      [question]="question"
      [userAnswer]="userAnswer"
      (answerChange)="onAnswerUpdate($event)">
    </app-multiple-choice>

    <app-multiple-response 
      *ngSwitchCase="'multipleResponse'"
      [question]="question"
      [userAnswer]="userAnswer"
      (answerChange)="onAnswerUpdate($event)">
    </app-multiple-response>

    <app-inline-choice 
      *ngSwitchCase="'inlineChoice'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-inline-choice>

    <app-table-grid 
      *ngSwitchCase="'tableGrid'"
      [question]="question"
      [userAnswer]="userAnswer"
      (answerChange)="onAnswerUpdate($event)">
    </app-table-grid>

    <app-point-graph 
      *ngSwitchCase="'pointGraph'"
      [question]="question"
      [userAnswer]="userAnswer"
      (answerChange)="onAnswerUpdate($event)">
    </app-point-graph>

    <app-shape-transform 
      *ngSwitchCase="'shapeTransformation'"
      [question]="question"
      [userAnswer]="userAnswer"
      (answerChange)="onAnswerUpdate($event)">
    </app-shape-transform>

    <app-solution-set 
      *ngSwitchCase="'solutionSet'"
      [question]="question"
      [userAnswer]="userAnswer"
      [showAnswer]="showAnswer"
      (answerChange)="onAnswerUpdate($event)"
      (correctnessChange)="onCorrectnessUpdate($event)">
    </app-solution-set>



    <div *ngSwitchDefault class="text-center py-8">
      <i class="fas fa-exclamation-triangle text-yellow-500 text-2xl mb-2"></i>
      <p class="text-gray-600">Question type not implemented: {{ question.type }}</p>
    </div>
  </div>
</div>
